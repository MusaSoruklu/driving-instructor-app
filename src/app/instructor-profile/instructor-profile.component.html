<app-header></app-header>
<div class="instructor-card">
  <div class="instructor-info">
    <div class="calendar-and-summary">
      <div class="calendar-container">
        <div class="date-time-container">
          <mat-form-field>
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="id" [formControl]="selectedDateControl">
            <mat-datepicker-toggle matSuffix [for]="id"></mat-datepicker-toggle>
            <mat-datepicker [dateClass]="dateClass" #id></mat-datepicker>
          </mat-form-field>
          <mat-form-field class="transmission-container">
            <mat-label>Transmission</mat-label>
            <mat-select [(value)]="selectedTransmission">
              <mat-option *ngFor="let trans of instructor.transmission" [value]="trans">
                {{ trans }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="duration-time-container">
        <div class="time-container">
          <mat-form-field>
            <mat-label>Select time</mat-label>
            <mat-select (selectionChange)="onTimeSelected($event)">
              <mat-option *ngFor="let time of times" [value]="time.label" [disabled]="!time.available"
                [class.available-time]="time.available">
                {{ time.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <mat-form-field class="lesson-duration">
          <mat-label>Lesson duration</mat-label>
          <mat-select [(value)]="lessonDuration">
            <mat-option *ngFor="let duration of instructor.lessonDuration" [value]="duration">
              {{ duration }} Hour(s)
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <!-- Lesson Summary Card -->
      <mat-card *ngIf="selectedTime" class="lesson-summary-card">
        <mat-card-header>
          <mat-card-title>Lesson Summary</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="summary-item">
            <mat-icon aria-hidden="false" aria-label="Lesson Date Icon">today</mat-icon>
            <span>Lesson Date: {{ selectedDate | date }}</span>
          </div>
          <div class="summary-item">
            <mat-icon aria-hidden="false" aria-label="Lesson Time Icon">access_time</mat-icon>
            <span>Lesson Time: {{ selectedTime }}</span>
          </div>
          <div class="summary-item">
            <mat-icon aria-hidden="false" aria-label="Lesson Duration Icon">timer</mat-icon>
            <span>Lesson Duration: {{ lessonDuration }} Hour(s)</span>
          </div>
          <div class="summary-item">
            <mat-icon aria-hidden="false" aria-label="Transmission Icon">drive_eta</mat-icon>
            <span>Transmission: {{ selectedTransmission }}</span>
          </div>
          <div class="summary-item">
            <i class="fa-solid fa-sterling-sign"></i>
            <fa-icon [icon]="faSterlingSign"></fa-icon>
            <!-- <mat-icon aria-hidden="false" aria-label="Total Price Icon">currency_pound</mat-icon> -->
            <span>Total Price: Â£{{ getTotalPrice() }}</span>
          </div>
        </mat-card-content>
        <mat-card-actions align="end">
          <button mat-raised-button color="primary" (click)="addToCart()">Add to cart</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>